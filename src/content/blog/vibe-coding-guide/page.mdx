import { Button } from '@/components/Button'
import Image from 'next/image'
import Link from 'next/link'
import { Tweet } from 'react-tweet'
import RandomPortrait from '@/components/RandomPortrait'
import CV from '@/components/CV'
import ShareButton from '@/components/ShareButton'
import Newsletter from '@/components/Newsletter'

import secretsProtection from '@/images/secret-protection.webp'
import vibeCodingPremium from '@/images/vibe-coding-protection.webp'
import secretsHero from '@/images/vibe-coding-survival-guide.webp'
import gettingGot  from '@/images/getting-got.webp'

import { createMetadata } from '@/utils/createMetadata'

export const metadata = createMetadata({
  author: 'Zachary Proser',
  date: '2025-04-28',
  title: 'Vibe Coding Survival Guide ‚Äì Secrets & Git Basics for Cursor-First Builders',
  description:
    'A no-jargon crash-course that keeps your AI side-projects from torching your wallet. Perfect for vibe coders with zero engineering background.',
  image: secretsHero,
})

*I've spent 13+ years securing apps at companies like Cloudflare and Pinecone. Trust me: leaking secrets hurts worse than forgetting to save your game.*

## Why Secrets Matter (The $500 tweet)

<div className="my-6 grid grid-cols-1 md:grid-cols-2 gap-6 not-prose">
  <div>
    <h3 className="text-lg font-semibold mb-2">How it Started</h3>
    <Tweet id="1900767509621674109" />
  </div>
  <div>
    <h3 className="text-lg font-semibold mb-2">How it's Going</h3>
    <Tweet id="1901560276488511759" />
  </div>
</div>
<figcaption>Don't end up like Leo. Learn enough to protect yourself, or buy the premium package to protect your secrets.</figcaption>

<Link href="/products/vibe-coding-mastery">
  <Image src={vibeCodingPremium} alt="Vibe coding premium protects you against leaking secrets" />
</Link>

<figcaption>Premium includes a step-by-step screencast and instructions on setting up a special tool that makes it impossible for you to commit secrets to git (so you never end up like Leo).*</figcaption>

Publishing an OpenAI key to a public repo is the software equivalent of tweeting your Amex and CVV, or strolling down Times Square throwing your credit cards at strangers' faces.

Attackers can crank out four‚Äëfigure bills (or worse, wipe data) before you notice the email from Stripe.

<Image src={gettingGot} alt="Publishing your secrets on the public internet is the equivalent of walking through times square and throwing your credit cards at strangers" />

## The New Coder's Trap

Building with AI feels like you've hacked the system... until you:
- Get banned from API providers for policy violations  
- Wake up to $500 charges from leaked keys  
- Realize your "private" repo was public all along  

**This happens because:**  
Cursor is still a tool for professional developers, which assumes you know things like:
- Where secrets actually live in production  
- How Git history really works  
- That API keys = credit cards  

<Newsletter 
  title="üö® Tools Leo Wishes He Had" 
  body="Only 100 early-access slots. Get screencasts + leak-prevention tools before they go live." 
  successMessage="You're on the list! We'll email you about Vibe Coding Mastery." 
  position="vibe-guide-mid-post" 
  tags={['vibe-coder-premium-waitlist', 'source-vibe-guide-mid-post']} 
  className="my-8 not-prose" 
/>

## What actually counts as a secret?

### üö® Always Keep Private:
- `OPENAI_API_KEY`
- `DATABASE_URL` (e.g., `postgres://user:password@...`)
- `AWS_ACCESS_KEY_ID`
- `JWT_SECRET`

**If it looks like a password or unlocks paid access, it's a secret.**

---

## Git = Save Game, Explained üíæ

Imagine your project is a video-game world:

| Game vibe | Git concept |
|-----------|-------------|
| **Save slot** | **Commit**: Freeze the game exactly as it is. |
| **New level / side-quest** | **Branch**: Spin up an alternate timeline safely. |
| **Cloud save** | **Remote (GitHub)**: Stores your code online for sharing. |

### Beginner loop (shortened)

```bash
git init
git add . && git commit -m "save"
git push -u origin main
```

Need to try something wild?

```bash
git checkout -b shiny-idea
# ‚Ä¶hack away‚Ä¶
git switch main && git merge shiny-idea
```

Lost in the woods?

<div className="not-prose my-4 p-4 rounded-md border border-red-300 bg-red-50 text-red-800 dark:border-red-600/30 dark:bg-red-900/20 dark:text-red-200">
  <strong className="font-semibold">‚ö†Ô∏è CAUTION:</strong> This command will undo your current uncommitted work! Use only if all else fails.
</div>

```bash
git reset --hard HEAD~1
```

### Git in Action:
1. You break your app while adding a new feature.
2. Panic? No! Run `git reset --hard HEAD~1` to revert to your last save.
3. Try again on a new branch: `git checkout -b retry-feature`.

**Premium Bonus:** Screencasts walk you through real-world Git issues like fixing a botched `merge`.

<div className="not-prose my-4 p-4 rounded-md border border-yellow-400 bg-yellow-50 text-yellow-800 dark:border-yellow-600/30 dark:bg-yellow-900/20 dark:text-yellow-200">
  <strong className="font-semibold">üîí Premium Only:</strong> Get pre-commit hooks and AI-powered rules that nudge Cursor to offer branches or checkpoints.
</div>

---

## 3. Secrets & Environment Variables ‚Äî Baby Steps üçº

**Secret** ‚Üí a password-like string that unlocks a paid API or private database.  
**Environment variable (.env)** ‚Üí a locked drawer your code can peek into at runtime so secrets don't sit in code.

Think of .env as hiding your house key under a rock outside the door. Your code knows which rock to lift; strangers do not.

Quick checklist:
- üö´ Never paste a secret directly into .js or .ts files.
- üìÅ Keep your .env file **out of Git** so it never lands on GitHub.
- üßë‚Äçüíª Load the variable in code with `process.env.OPENAI_API_KEY` (Node) or framework helpers.

### üí° Try This (Free):
Run `git add . && git commit -m "test"` to save your code.

**Premium Bonus:** Watch the screencast to see how Cursor's AI suggests commit messages *before* you type them.

---

## üé• What's in Premium?

- **Screencasts:** Watch me debug a secret leak in real-time.
- **Cursor Rules:** See how AI nudges you to safer commits.
- **Templates:** Copy-paste CI/CD configs that block leaks automatically.

<Link href="/products/vibe-coding-mastery">
  <img src="https://via.placeholder.com/600x300?text=Premium+Only:+Real-time+Secret+Scanning" alt="Premium only: GitGuardian blocking a leaked API key" />
</Link>
*Premium unlocks screencasts and tools that auto-block leaks before they happen.*

[Join Waitlist for Early Access](/contact)

---

<div className="mt-16 mb-16 text-center not-prose">
  <h3 className="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2">
    Did this guide help?
  </h3>
  <div className="text-base text-zinc-600 dark:text-zinc-400 mb-4">
    Know someone else building with AI who could benefit? Please share it!
  </div>
  <ShareButton />
</div>

---

## Survival Terms üìñ

| Term        | What it really means + Risk                     |
|-------------|-------------------------------------------------|
| **Commit**  | A save point for your project. Lose it? You're stuck debugging blind. |
| **Branch**  | A parallel timeline to test changes safely. Without one, bugs hit your live project. |
| **Remote**  | A GitHub copy of your project. Push unsafe code here? It becomes public. |
| **Secret**  | API keys, DB URLs ‚Äî anything that costs money or gives access. Leak it, pay for it. |

---
