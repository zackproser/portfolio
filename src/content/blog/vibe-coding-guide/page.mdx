import { Button } from '@/components/Button'
import Image from 'next/image'
import Link from 'next/link'
import { Tweet } from 'react-tweet'
import RandomPortrait from '@/components/RandomPortrait'
import CV from '@/components/CV'
import ShareButton from '@/components/ShareButton'
import Newsletter from '@/components/Newsletter'
import ShareButtonTracked from '@/components/ShareButtonTracked'

import secretsProtection from '@/images/secret-protection.webp'
import secretsVsNonSecrets from '@/images/secrets-non-secrets.webp'
import vibeCodingProtection from '@/images/vibe-coding-protection.webp'
import vibeCodingPremium from '@/images/vibe-coding-premium.webp'
import secretsHero from '@/images/vibe-coding-survival-guide.webp'
import gitSafetyNet from '@/images/git-safety-net.webp'
import gettingGot  from '@/images/getting-got.webp'
import introToGit from '@/images/intro-to-git.webp'
import secretsFlow from '@/images/secrets-flow.webp'
import secretsGuard from '@/images/secret-guard.webp'
import secretsLeak from '@/images/secrets-leak.webp'
import neverCommitEnv from '@/images/never-commit-env.webp'

import { createMetadata } from '@/utils/createMetadata'

export const metadata = createMetadata({
  author: 'Zachary Proser',
  date: '2025-04-28',
  title: 'Vibe Coding Survival Guide ‚Äì Secrets & Git Basics for Cursor-First Builders',
  description:
    'A no-jargon crash-course that keeps your AI side-projects from torching your wallet. Perfect for vibe coders with zero engineering background.',
  image: secretsHero,
})

## Why Secrets Matter (The $500 tweet)

<div className="my-6 grid grid-cols-1 md:grid-cols-2 gap-6 not-prose">
  <div>
    <h3 className="text-lg font-semibold mb-2">How it Started</h3>
    <Tweet id="1900767509621674109" />
  </div>
  <div>
    <h3 className="text-lg font-semibold mb-2">How it's Going</h3>
    <Tweet id="1901560276488511759" />
  </div>
</div>
<figcaption>Don't end up like Leo. Learn enough to protect yourself, or buy the premium package to protect your secrets.</figcaption>

<Link href="/products/vibe-coding-mastery">
  <Image src={vibeCodingProtection} alt="Vibe coding premium protects you against leaking secrets" />
</Link>

<figcaption>Premium includes a step-by-step screencast and instructions on setting up a special tool that makes it impossible for you to commit secrets to git (so you never end up like Leo).*</figcaption>

Publishing an OpenAI key to a public repo is the software equivalent of tweeting your Amex and CVV, or strolling down Times Square throwing your credit cards at strangers' faces.

Attackers can crank out four‚Äëfigure bills (or worse, wipe data) before you notice the email from Stripe.

<Link href="/products/vibe-coding-mastery">
  <Image src={secretsLeak} alt="How secrets get leaked and abused" className="my-6" />
</Link>

*I've spent 13+ years securing apps at companies like Cloudflare and Pinecone. [Connect on LinkedIn](https://www.linkedin.com/in/zackproser/). Trust me: leaking secrets hurts worse than forgetting to save your game.*

<div className="flex justify-center my-8">
  <ShareButtonTracked buttonText="Share this guide" />
</div>

## The New Coder's Trap

Building with AI feels like you've hacked the system... until you:
- Get banned from API providers for policy violations  
- Wake up to $500 charges from leaked keys  
- Realize your "private" repo was public all along  

**This happens because:**  
Cursor, Windsurf and Claude Code are still tools designed for professional developers, which assume you know things like:
- How to safely manage secrets in production (and that you SHOULD be using DIFFERENT secrets for local development and production!) 
- How Git history really works  
- That API keys = credit cards  

## What actually counts as a secret?

<Link href="/products/vibe-coding-mastery">
  <Image src={secretsVsNonSecrets} alt="What is a secret and what isn't?" />
</Link>

### üö® Always Keep Private:
- `OPENAI_API_KEY`
- `DATABASE_URL` (e.g., `postgres://user:password@...`)
- `AWS_ACCESS_KEY_ID`
- `JWT_SECRET`

**If it looks like a password or unlocks paid access, it's a secret.**

<Newsletter 
  title="üö® Tools Leo Wishes He Had" 
  body="100 early-access spots left‚Äîlock in lifetime updates. Premium members deploy 3x faster with AI-powered commit reviews." 
  successMessage="You're on the list! We'll email you about Vibe Coding Mastery." 
  position="vibe-guide-mid-post" 
  tags={['vibe-coder-premium-waitlist', 'source-vibe-guide-mid-post']} 
  className="my-8 not-prose" 
/>

---

## Git = Save Game, Explained üíæ

<Link href="/products/vibe-coding-mastery">
  <Image src={gitSafetyNet} alt="Git is like a save system or safety net" />
</Link>

Imagine your project is a video-game world:

| Game vibe | Git concept |
|-----------|-------------|
| **Save slot** | **Commit**: Freeze the game exactly as it is. |
| **New level / side-quest** | **Branch**: Spin up an alternate timeline safely. |
| **Cloud save** | **Remote (GitHub)**: Stores your code online for sharing. |

### Beginner loop (shortened)

```bash
git init
git add . && git commit -m "save"
git push -u origin main
```

Need to try something wild?

```bash
git checkout -b shiny-idea
# ‚Ä¶hack away‚Ä¶
git switch main && git merge shiny-idea
```

Lost in the woods?

<div className="not-prose my-4 p-4 rounded-md border border-red-300 bg-red-50 text-red-800 dark:border-red-600/30 dark:bg-red-900/20 dark:text-red-200">
  <strong className="font-semibold">‚ö†Ô∏è CAUTION:</strong> This command will undo your current uncommitted work! Use only if all else fails.
</div>

```bash
git reset --hard HEAD~1
```

### Git in Action:
1. You break your app while adding a new feature.
2. Panic? No! Run `git reset --hard HEAD~1` to revert to your last save.
3. Try again on a new branch: `git checkout -b retry-feature`.

<Link href="/products/vibe-coding-mastery">
  <div className="not-prose my-4 p-4 rounded-md border border-yellow-400 bg-yellow-50 text-yellow-800 dark:border-yellow-600/30 dark:bg-yellow-900/20 dark:text-yellow-200 cursor-pointer">
    <strong className="font-semibold">üîí Premium Only:</strong> Get zero-bullshit, highly-visual and easy-to-understand explanations. Only what you need to know so you can get back to building.
    <Image src={introToGit} alt="The premium version of this guide explains git and secrets in a visual-first manner" />
  </div>
</Link>

---

## 3. Secrets & Environment Variables ‚Äî Baby Steps üçº

<Link href="/products/vibe-coding-mastery">
  <Image src={secretsFlow} alt="How secrets flow" />
</Link>

**Secret** = Your code's credit card number. Leak it, pay for it.  
**Branch** = A sandbox for experiments. No branch? Bugs go live.  

**Environment variable (.env)** ‚Üí a locked drawer your code can peek into at runtime so secrets don't sit in code.

Think of .env as hiding your house key under a rock outside the door. Your code knows which rock to lift; strangers do not.

Quick checklist:
- üö´ Never paste a secret directly into .js or .ts files.
- üìÅ Keep your .env file **out of Git** so it never lands on GitHub.
- üßë‚Äçüíª Load the variable in code with `process.env.OPENAI_API_KEY` (Node) or framework helpers.

### üí° Try This (Free):
Run `git add . && git commit -m "test"` to save your code.

<Link href="/products/vibe-coding-mastery">
  <div className="not-prose my-4 p-4 rounded-md border border-yellow-400 bg-yellow-50 text-yellow-800 dark:border-yellow-600/30 dark:bg-yellow-900/20 dark:text-yellow-200 cursor-pointer">
    <strong className="font-semibold">üîí Premium Only:</strong> Watch the screencast and get the exact commands to set up a tool that makes it impossible to leak your secrets via git!
    <Image src={secretsGuard} alt="The premium version of this guide protects your secrets" />
  </div>
</Link>

---

## üé• What's in Premium?

<Link href="/products/vibe-coding-mastery">
  <Image src={vibeCodingPremium} alt="Vibe Coding Mastery protects your secrets and makes everything as simple as possible to understand" />
</Link>

- **Screencasts:** In addition to the exact commands, you can watch me perform all the setup tasks in Cursor 
- **Cursor Rules:** I've created custom Cursor Rules files that protect you and teach you as you work. 
- **Make it impossible to leak secrets:** I show you exactly how, and give you the commands, to set up a world-class tool that makes it impossible for you to leak secrets via Git. 

<Link href="/products/vibe-coding-mastery">

</Link>
*Premium unlocks screencasts, exact commands, tools that auto-block leaks before they happen, and custom Cursor Rules to help you learn and protect you as you vibe code.*