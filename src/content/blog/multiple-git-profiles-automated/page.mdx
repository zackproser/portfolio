--- 



## Automatically switch Git profiles based on the directory you're in 

I code a lot for myself: [https://github.com/zackproser](https://github.com/zackproser)

I code a lot for work: [https://github.com/zackproser-workos](https://github.com/zackproser-workos)

And I don't want to have to manually remember which Git profile to use for each context. 

What I really want to do is just build things and have my computer figure out which Git profile to use based on the directory I'm in.

Here's how I automated this process using Git's built-in capabilities.

### Step 1: Create Separate Git Configurations

First, create a configuration file for your personal profile:

```bash
touch ~/.gitconfig-personal
```

Add your personal details. Your `~/.gitconfig-personal` file should now look like this:

```ini
[user]
name = Your Personal Name
email = yourpersonal@example.com
```

Next, create a configuration file for your work profile:

```bash
touch ~/.gitconfig-work
```

Add your work credentials:

```ini
[user]
name = Your Work Name
email = yourwork@example.com
```

Your `~/.gitconfig-work` file should now look like this:

```ini
[user]
name = Your Work Name
email = yourwork@example.com
```

### Step 2: Configure Directory-Based Switching

By default, Git uses the global Git config file which is located at `~/.gitconfig`.

Now, configure your global Git config to switch profiles based on the directory:

```bash
git config --global --edit
```

Add these directory-based configurations:

```ini
[includeIf "gitdir:~/work/repos/"]
path = ~/.gitconfig-work

[includeIf "gitdir:~/personal/repos/"]
path = ~/.gitconfig-personal
```

Your complete `~/.gitconfig` file should now look like this:

```ini
[includeIf "gitdir:~/work/repos/"]
path = ~/.gitconfig-work

[includeIf "gitdir:~/personal/repos/"]
path = ~/.gitconfig-personal
```

This setup ensures that Git automatically uses your work profile for any repository within the `~/work/repos/` directory and your personal profile for the `~/personal/repos/` directory.

Of course, you can change the directory names to whatever you want.

### Step 3: Verify Your Setup

Test the configuration by checking your Git identity in different directories:

```bash
git config user.name
```

The output should change based on your current directory, confirming that the automation is working.

Have you implemented similar automations in your development workflow? Share your approach in the comments.


