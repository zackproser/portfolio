import { Button } from '@/components/Button'
import Image from 'next/image'
import Link from 'next/link'
import Newsletter from '@/components/NewsletterWrapper'
import CrossLinkCallout from '@/components/CrossLinkCallout';
import vectorDatabasesCompared from '@/images/vector-databases-examined.webp'
import Callout from '@/components/Callout'

import { createMetadata } from '@/utils/createMetadata'

export const metadata = createMetadata({
    author: "Zachary Proser", 
    date: "2024-3-9",
    title: "Vector Databases Compared: Pinecone, Milvus, Chroma, Weaviate, FAISS, and more", 
    description: "How do the different vector databases compare?",
    image: vectorDatabasesCompared,
})

--- 

<Callout type={"SpecialCallout"} title={"🚀 New Interactive Comparison Tool Available!"} body={"This blog post has been upgraded to an interactive comparison tool. Check out the new experience at /vectordatabases to compare vector databases in real-time and get personalized recommendations based on your needs."} />

<CrossLinkCallout
  title="Want to compare interactively?"
  description="Use our new dynamic comparison tool to explore and compare vector databases in real-time."
  linkText="Try interactive comparisons"
  linkHref="/vectordatabases"
  variant="info"
/>

<Callout type={"SpecialCallout"} title={"Claiming my bias upfront"} body={"I am a Staff Developer Advocate at Pinecone.io. That said, I believe this information is up to date and correct, and I'm happy to make any corrections if you see anything inaccurate."} />

<Newsletter title={'I break down AI, vector databases and dev tools'} body={'Subscribe to my free newsletter to stay up to date'} />

## Table of contents

## What is a vector database?

In the world of data, not everything fits neatly into rows and columns. This is especially true when dealing with complex, unstructured data like images, videos, and natural language. That's where vector databases come in.

A vector database is a type of database that stores data as high-dimensional vectors, which are essentially lists of numbers that represent the features or characteristics of an object. Each vector corresponds to a unique entity, like a piece of text, an image, or a video.

<iframe 
  class="youtube-video"
  src="https://www.youtube.com/embed/wc3Lh-eiNBM" 
  title="What is a vector database?" 
  frameborder="0" 
  allow="fullscreen;">
</iframe>

But why use vectors? The magic lies in their ability to capture semantic meaning and similarity. By representing data as vectors, we can mathematically compare them and determine how similar or dissimilar they are. This enables us to perform complex queries like "find me images similar to this one" or "retrieve documents that are semantically related to this text."

## Why are vector databases so hot right now?

Vector databases have gained significant popularity in recent years, particularly in the fields of artificial intelligence (AI) and machine learning (ML). As AI and ML models become more sophisticated, they require efficient ways to store, search, and retrieve the vast amounts of unstructured data they work with.

Traditional databases, which are designed for structured data, often struggle to handle the complexities and scale of vector data. Vector databases, on the other hand, are purpose-built for this task. They offer specialized indexing and search algorithms that can quickly find similar vectors, even in databases with billions of entries.

## Vector database use cases 

The ability to search for similar vectors opens up a world of possibilities for AI and ML applications. Some common use cases include:

* Recommendation Systems: By representing user preferences and item features as vectors, vector databases can power highly personalized recommendation engines.
* Image and Video Search: Vector databases enable searching for visually similar images or videos, revolutionizing content-based retrieval.
* Natural Language Processing: By encoding text into vectors, vector databases facilitate semantic search, topic modeling, and document clustering.
* Fraud Detection: Vector databases can help identify patterns and anomalies in financial transactions, aiding in fraud detection efforts.

## Choosing the right vector database 

With the growing demand for vector databases, several options have emerged in the market. Each database has its own strengths, trade-offs, and ideal use cases. In this blog post, we'll dive into a comprehensive comparison of popular vector databases, including Pinecone, Milvus, Chroma, Weaviate, Faiss, Elasticsearch, and Qdrant.

By understanding the features, performance, scalability, and ecosystem of each vector database, you'll be better equipped to choose the right one for your specific needs.

These are just a few examples of how vector databases are driving innovation across industries.

## Deployment Options

Pinecone is the odd one out in this regard. Because Pinecone is a fully-managed service for performance and scalbility reasons, you can't run an instance locally. 

Milvus, Chroma, Weaviate, Faiss, Elasticsearch and Qdrant can all be run locally; most provide Docker images for doing so.

| Vector Database | Local Deployment | Cloud Deployment | On-Premises Deployment |
|-----------------|------------------|------------------|-----------------------|
| Pinecone        | ❌               | ✅ (Managed)     | ❌                    |
| Milvus          | ✅               | ✅ (Self-hosted) | ✅                    |
| Chroma          | ✅               | ✅ (Self-hosted) | ✅                    |
| Weaviate        | ✅               | ✅ (Self-hosted) | ✅                    |
| Faiss           | ✅               | ❌               | ✅                    |
| Elasticsearch   | ✅               | ✅ (Self-hosted) | ✅                    |
| Qdrant          | ✅               | ✅ (Self-hosted) | ✅                    |

## Scalability

Meaningful scalability metrics require defined constraints. The following is a quick look at which scaling schemes each vector database supports. 

Stay tuned for performance and benchmarking stats.

| Vector Database | Horizontal Scaling | Vertical Scaling | Distributed Architecture |
|-----------------|--------------------|-----------------|-----------------------|
| Pinecone        | ✅                 | ✅              | ✅                    |
| Milvus          | ✅                 | ✅              | ✅                    |
| Chroma          | ✅                 | ✅              | ✅                    |
| Weaviate        | ✅                 | ✅              | ✅                    |
| Faiss           | ❌                 | ✅              | ❌                    |
| Elasticsearch   | ✅                 | ✅              | ✅                    |
| Qdrant          | ✅                 | ✅              | ✅                    |

## Performance and benchmarking

Coming soon!

## Data Management

Pinecone supports "collections" which are like checkpoints or save states on your indexes. 

You can use collections to create new indexes. Generally speaking, they're a 
convenience method for moving lots of data between indexes.

| Vector Database | Data Import | Data Update/Deletion | Data Backup/Restore |
|-----------------|-------------|----------------------|---------------------|
| Pinecone        | ✅          | ✅                   | ✅                  |
| Milvus          | ✅          | ✅                   | ✅                  |
| Chroma          | ✅          | ✅                   | ✅                  |
| Weaviate        | ✅          | ✅                   | ✅                  |
| Faiss           | ✅          | ✅                   | ❌                  |
| Elasticsearch   | ✅          | ✅                   | ✅                  |
| Qdrant          | ✅          | ✅                   | ✅                  |

## Vector Similarity Search

One of the reasons vector databases are so useful is that they can tell us about the relationships between things and how similar or dissimilar they are. 

There are a variety of distance metrics that allow vector databases to do this, and different vector databases will implement various distance metrics.

For a helpful introduction to how the different distance metrics compare, check out [Pinecone's guide here](https://www.pinecone.io/learn/vector-similarity/).

| Vector Database | Distance Metrics | ANN Algorithms | Filtering | Post-Processing |
|-----------------|------------------|----------------|-----------|-----------------|
| Pinecone        | Cosine, Euclidean, Dot Product | Proprietary (Pinecone Graph Algorithm) | ✅ | ✅ |
| Milvus          | Euclidean, Cosine, IP, L2, Hamming, Jaccard, Tanimoto | HNSW, IVF_FLAT, IVF_SQ8, IVF_PQ, RNSG, ANNOY | ✅ | ✅ |
| Chroma          | Cosine, Euclidean, Dot Product | HNSW | ✅ | ✅ |
| Weaviate        | Cosine | HNSW | ✅ | ✅ |
| Faiss           | L2, Cosine, IP, L1, Linf | IVF, HNSW, IMI, PQ | ❌ | ❌ |
| Elasticsearch   | Cosine, Dot Product, L1, L2 | HNSW | ✅ | ✅ | ✅ | ✅ |
| Qdrant          | Cosine, Dot Product, L2 | HNSW | ✅ | ✅ | ✅ |

## Integration and API

While REST APIs are more commonly encountered, GRPC APIs are geared toward performance and throughput in latency critical scenarios or when its necessary to move large amounts of data quickly. 

Depending on your requirements and network, GRPC can be several times faster than REST.

| Vector Database | Language SDKs | REST API | GraphQL API | GRPC API |
|-----------------|---------------|----------|-------------|---------|
| Pinecone        | Python, Node.js, Go, Rust | ✅ | ❌ | ✅  |
| Milvus          | Python, Java, Go, C++, Node.js, RESTful | ✅ | ❌ | ✅  |
| Chroma          | Python | ✅ | ❌ | ❌ |
| Weaviate        | Python, Java, Go, JavaScript, .NET | ✅ | ✅ | ✅ |
| Faiss           | C++, Python | ❌ | ❌ | ✅ |
| Elasticsearch   | Java, Python, Go, Ruby, PHP, Rust, Perl | ✅ | ❌ | ❌ |
| Qdrant          | Python, Rust | ✅ | ❌ | ✅ |

## Security

Pinecone encrypts vectors in flight and at rest.

| Vector Database | Authentication | Data Encryption | Access Control |
|-----------------|----------------|-----------------|----------------|
| Pinecone        | ✅             | ✅              | ✅             |
| Milvus          | ✅             | ✅              | ✅             |
| Chroma          | ❌             | ❌              | ❌             |
| Weaviate        | ✅             | ✅              | ✅             |
| Faiss           | ❌             | ❌              | ❌             |
| Elasticsearch   | ✅             | ✅              | ✅             |
| Qdrant          | ✅             | ✅              | ✅             |

## Community and Ecosystem

Pinecone itself is not open-source, meaning that you cannot browse to the source code for the core database or supporting services or contribute to them. 

That said, [Pinecone is very active in terms of open-source](https://github.com/pinecone-io/), publishing client SDKs in the multiple languages, as well as 
tools like [Canopy](https://github.com/pinecone-io/canopy), which facilitates creating a [Retrieval Augmented Generation](https://pinecone.io/learn/retrieval-augmented-generation) (RAG) app very quickly.

| Vector Database | Open-Source | Community Support | Integration with Frameworks |
|-----------------|-------------|-------------------|------------------------------|
| Pinecone        | ❌          | ✅                | ✅                          |
| Milvus          | ✅          | ✅                | ✅                          |
| Chroma          | ✅          | ✅                | ✅                          |
| Weaviate        | ✅          | ✅                | ✅                          |
| Faiss           | ✅          | ✅                | ✅                          |
| Elasticsearch   | ✅          | ✅                | ✅                          |
| Qdrant          | ✅          | ✅                | ✅                          |

## Pricing

Pinecone offers a free tier which allows you to create and maintain one index, and to store roughly 100,000 vectors in it. 

Since Pinecone is fully-managed, you must either use the free tier or pay for access to 
higher tier plans.

| Vector Database | Free Tier | Pay-as-you-go | Enterprise Plans |
|-----------------|-----------|---------------|------------------|
| Pinecone        | ✅        | ✅            | ✅               |
| Milvus          | ✅        | ❌            | ❌               |
| Chroma          | ✅        | ❌            | ❌               |
| Weaviate        | ✅        | ❌            | ✅               |
| Faiss           | ✅        | ❌            | ❌               |
| Elasticsearch   | ✅        | ✅            | ✅               |
| Qdrant          | ✅        | ❌            | ❌               |

## Additional Features

Metadata is any arbitrary strings, numbers, or objects that you want to associate with a vector. You can think of it like a JavaScript object: 

```javascript
{
  "category": "shoes",
  "color": "blue",
  "size": 10,
}
```

You define your metadata in your application code and attach it to a vector at upsert time, meaning when you make your request to your vector database to store a vector. 

Metadata is an incredibly powerful concept and very complimentary with core vector database features; it's the link between ambiguous human language and structured data.

This is the foundation of the architecture where a human user asks for a product and the AI shopping assistant immediately returns the items they're describing. 

| Vector Database | Metadata Support | Batch Processing |  Monitoring and Logging |
|-----------------|------------------|------------------|-------------------------|
| Pinecone        | ✅               | ✅               |  ✅                     |
| Milvus          | ✅               | ✅               |  ✅                     |
| Chroma          | ✅               | ✅               |  ❌                     |
| Weaviate        | ✅               | ✅               |  ✅                     |
| Faiss           | ❌               | ✅               |  ❌                     |
| Elasticsearch   | ✅               | ✅               |  ✅                     |
| Qdrant          | ✅               | ✅               |  ✅                     | 

## Check back soon

I'm treating this post as a living piece of content - so it will receive some updates over time. Be sure to bookmark / share it if you'd like to stay up-to-date.
