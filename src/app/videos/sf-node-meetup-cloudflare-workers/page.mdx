import { ArticleLayout } from '@/components/ArticleLayout'

import workersTalk from '@/images/cloudflare-workers-talk.webp'

import { generateOgUrl } from '@/utils/ogUrl'

export const meta = {
  author: "Zachary Proser",
  date: "2018-06-01",
  title: "Deploying the first Cloudflare workers in front of api.cloudflare.com and www.cloudflare.com",
  description: "How we dogfooded Cloudflare workers on the API team",
  image: workersTalk
}

export const metadata = {
  openGraph: {
    title: meta.title,
    description: meta.description,
    url: "${process.env.NEXT_PUBLIC_SITE_URL}", 
    siteName: "Zack Proser portfolio",
    images: [
      {
        url: `${generateOgUrl(meta)}`,
      }
    ]
  }
}

export default (props) => <ArticleLayout meta={meta} {...props} />

<iframe 
  class="youtube-video"
  src="https://www.youtube.com/embed/SC6MHeetjks" 
  title="Dogfooding Cloudflare Workers on api.cloudflare.com and www.cloudflare.com" 
  frameborder="0" 
  allow="fullscreen;">
 </iframe>

On the Cloudflare API team, we were responsible for api.cloudflare.com as well as www.cloudflare.com. Here's how we wrote the first Cloudflare Workers to gracefully deprecate TLS 1.0 and set them in front of 
both properties, without any downtime.

And no, if you're paying attention, my name is not Zack Prosner, it's Zack Proser :) 
